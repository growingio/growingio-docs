# SDK 更新日志 - 小程序

## 2019年4月16日

### 微信小程序SDK 2.0

* minp.js
* minp.esm.js

本次小程序 SDK 更新升级了以下新特性：

1. 提供API供开发者调用，满足客户小程序应用符合欧盟区的《一般数据保护条例》\(GDPR\)；
2. 配置文件使用方式更新，集成SDK时，只需填写配置文件即可，降低参数配置的复杂性；
3. session 参数 keepalive 的默认时长逻辑进行调整； 当小程序切入后台时，这个参数决定

   间隔多长时间，会默认统计本次访问结束，再进入小程序时，会统计为一次新的访问（打开）；SDK 1.x 版本，默认退出与重新打开间隔**超过 30 秒，**就会记为一次新的访问； 现在更新默认为 **5 分钟**，与腾讯保持一致；

4. 弱网环境保留100条记录，GIO对数据进行了缓存批量发送，如果弱网等因素数据发送不出去，则会一致缓存，这里做了优化，只缓存最近100条；
5. 地理位置支持火星坐标系；（1.8.9 以及之后的版本都支持）
6. 适配 chameleon，uni-app 更多框架；
7. SDK 支持小程序内部弹窗功能。

{% hint style="info" %}


**请您注意，keepalive参数的更新，可能会使目前统计的打开次数（访问量）指标下降，同时平均访问时长、平均访问浏览页数 指标由于分母数值变低，可能数值会上升。”人均“类的指标不受影响。 如果您的指标发生变化，请观察几天，稳定后可以使用新的指标作为 benchmark（基准）来进行判断和决策。**
{% endhint %}

注：线上仅维护最新版本的小程序SDK, 不维护旧版本的SDK.

