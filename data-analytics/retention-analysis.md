# 留存分析

* [1.简介](https://growingio.gitbook.io/docs/~/drafts/-LGZSt-DeumBuiZf0cqT/primary/data-analytics/retention-analysis#1-jian-jie)
* [2.功能](https://growingio.gitbook.io/docs/~/drafts/-LGZSt-DeumBuiZf0cqT/primary/data-analytics/retention-analysis#2-gong-neng)
  * [2.1新建留存默认界面](https://growingio.gitbook.io/docs/~/drafts/-LGZSt-DeumBuiZf0cqT/primary/data-analytics/retention-analysis#2-1-xin-jian-liu-cun-mo-ren-jie-mian)
  * [2.2留存下钻到分群](https://growingio.gitbook.io/docs/~/drafts/-LGZSt-DeumBuiZf0cqT/primary/data-analytics/retention-analysis#%E7%95%99%E5%AD%98%E4%B8%8B%E9%92%BB%E5%88%B0%E5%88%86%E7%BE%A4)
  * [2.3统计](https://growingio.gitbook.io/docs/~/drafts/-LGZSt-DeumBuiZf0cqT/primary/data-analytics/retention-analysis#%E7%BB%9F%E8%AE%A1%E5%8F%A3%E5%BE%84)口径
  * [3.应用场景](https://growingio.gitbook.io/docs/~/drafts/-LGZSt-DeumBuiZf0cqT/primary/data-analytics/retention-analysis#3-ying-yong-chang-jing)[3.1场景1](https://growingio.gitbook.io/docs/~/drafts/-LGZSt-DeumBuiZf0cqT/primary/data-analytics/retention-analysis#3-1-chang-jing-1)
* [3.2场景2](https://growingio.gitbook.io/docs/~/drafts/-LGZSt-DeumBuiZf0cqT/primary/data-analytics/retention-analysis#3-2-chang-jing-2)
* [3.3场景3](https://growingio.gitbook.io/docs/~/drafts/-LGZSt-DeumBuiZf0cqT/primary/data-analytics/retention-analysis#3-3-chang-jing-3)
* [3.4场景4](https://growingio.gitbook.io/docs/~/drafts/-LGZSt-DeumBuiZf0cqT/primary/data-analytics/retention-analysis#3-4-chang-jing-4)
* [4.常见问题](https://growingio.gitbook.io/docs/~/drafts/-LGZSt-DeumBuiZf0cqT/primary/data-analytics/retention-analysis#4-chang-jian-wen-ti)

## 1.简介

留存，顾名思义，就是用户在你的网站/App中留下来、持续使用的意思。

留存为什么重要？留存是AARRR模型中重要的环节之一，只有做好了留存，才能保障新用户在注册后不会白白流失。有时候我们光看日活（DAU），会觉得数据不错，但有可能是因为近期有密集的推广拉新活动，注入了大量的新用户，但是留下来的用户不一定在增长，可能在减少，只不过被新用户数掩盖了所以看不出来。这就好像一个不断漏水的篮子，如果不去修补底下的裂缝，而只顾着往里倒水，是很难获得持续的增长的。

一般我们讲的留存率，是指“目标用户”在一段时间内“回到网站/App中完成某个行为”的比例。常见的指标有次日留存率、七日留存率、次周留存率等。比如：某个时间获取的"新用户" 的 "次日留存率"常用来度量拉新效果。

在GrowingIO的留存分析工具中，您可以灵活地自定义"目标用户"，设置特定的 "起始行为"和 "留存行为"，来观测目标用户的留存情况。

## 2.功能

### 2.1新建留存默认界面

当您通过导航中的 "分析" 进入留存分析或单图列表留存分析 tab 下 "新建"进入留存分析时，页面上默认显示的是过去14天 "全部访问用户"做过 "任意行为" \(回访网站/App\)留存情况。直白来说，就是过去14天访问过网站/App 的用户，在后面的每天再回来访问网站/App 的用户就是留存用户，这些留存用户占初始用户的比例就是留存率。我们先来认识一下留存分析界面。

![&#x56FE;1&#xFF1A;&#x65B0;&#x5EFA;&#x7559;&#x5B58;&#x5206;&#x6790;](https://assets.growingio.com/docs/retention/%E5%9B%BE1%EF%BC%9A%E6%96%B0%E5%BB%BA%E7%95%99%E5%AD%98%E5%88%86%E6%9E%90.png)

**左侧设置区域**

用 "1"来标记,可以设定起始行为、留存行为和目标用户群体；并且可以进行一些复杂的对比设置。进入新建留存分析时的设置和默认值解读如下：

* **目标用户**：目标用户是设定要观测的目标用户人群。比如，要观测新访问用户的留存，那目标用户就设定为新访问用户。目标用户的默认值是全部访问用户。
* **起始行为**：起始行为是对目标用户起始行为的限定。比如，如果要观测新用户查看过商品详情之后的留存率是否会有明显提升，那么起始行为可以设定为 "查看商品详情"。起始行为的默认值是 "任意行为", 含义是只要用户访问网站/打开 App 即可。
* **留存行为**：某个目标用户完成了起始行为之后，在后续日期完成了特定留存行为，则留存人数 +1；如果某目标用户只完成了起始行为，没有完成相应的留存行为，则留存人数+0。留存行为默认值是 "任意行为",含义是只要用户访问网站/打开 App 即可。
* **以上默认设置的含义是**：全部访客，在过去一段时间内，访问网站/打开APP之后，后续日期又访问网站/打开APP的情况。

**右侧信息展示区域**

用 "2" 来标记；包括起始行为发生日期范围、留存颗粒度；留存图；留存表；下面来详细说明一下这几个信息的含义：

![&#x56FE;2&#xFF1A;&#x53F3;&#x4FA7;&#x5C55;&#x793A;](https://assets.growingio.com/docs/retention/%E5%9B%BE2%EF%BC%9A%E5%8F%B3%E4%BE%A7%E5%B1%95%E7%A4%BA.png)

* **起始行为日期范围**：默认是过去14天，代表的起始行为发生的时间范围是过去14天，对应留存表中的 "用户量"就是目标用户在过去14天做过起始行为的用户量。以图中"9/28 星期四"这一行为例，用户量5485代表的就是目标用户\(全部访问用户\)中,过去14天做过起始行为\(任意行为\)的用户量。
* **留存颗粒度**：日留存/周留存/月留存；
  * 日留存：是指按自然日统计完成起始行为目标用户量并按天来观测后续每天的留存情况；
  * 周留存：是指按自然周统计完成起始行为目标用户量并按周来观测后续每周的留存情况；
  * 月留存：是指按自然月统计完成起始行为目标用户量并按月来观测后续每月的留存情况；
  * 特别说明：日/周/月颗粒度的切换与起始行为日期范围有关；比如，如果选择了过去7天，那么我们不提供按照周和月颗粒度来查看留存曲线，因为还没有完整一周或一个月的数据用来观测留存，远不如按日留存直观有效。具体的限制如下：

颗粒度控制

| 起始行为日期范围 | 日 | 周 | 月 |
| --- | --- | --- | --- | --- | --- | --- |
| &lt; 7天 | ✔ |  |  |
| \[7,14\)天 | ✔ |  |  |
| \[14,31\]天 | ✔ | ✔ |  |
| \[32,120\]天 | ✔ | ✔ |  |
| \[121,180\]天 |  | ✔ | ✔ |
| \[181,365\]天 |  |  | ✔ |

边界条件

a.日期区间最多支持365天；

b.选择1个历史时间区间，视图上最多提供 90日/27周/13月留存；\(某个历史日期距离现在可能超过90天，仅提供最多90日的留存）

c.可以选择的最远日期从该项目生效日期开始；

* **留存图**：留存图中默认给出的是留存曲线，跟留存表中的第一行数据对应，切换留存颗粒度时，展示的留存数据会随之变化。留存率曲线会看到随着时间推移的用户留存衰减情况；理想情况是，留存曲线会最终稳定在某个值，这些用户就是我们最终真正获取到的稳定用户。
* **留存表**: 留存表中给出了目标用户的留存详情，主要包括以下几个信息：

![&#x56FE;4&#xFF1A;&#x7559;&#x5B58;&#x8868;](https://assets.growingio.com/docs/retention/%E5%9B%BE4%EF%BC%9A%E7%95%99%E5%AD%98%E8%A1%A8.png)

* 1 标明了 "目标用户"；
* 2 给出了每天完成起始行为的目标用户量，是留存用户的基数；
* 3 给出了第2部分的用户，在后续每天完成留存行为的用户量和比例，也就是留存人数和留存率；

#### 更多设置解析 {#更多设置解析}

左侧设置区域，可以设置的选项包括如下设置项：

| 设置项 | 含义 | 举例 |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 起始行为 | 对目标用户起始行为的限定 | 例：访问商品详情页 |
| 起始行为过滤条件 | 对起始行为的限定 | 例: 浏览器=Chrome; 即筛选使用 Chrome 浏览器访问商品详情页的用户 |
| 留存行为 | 完成留存行为才能算作用户留存 | 例：购买商品 |
| 留存行为过滤条件 | 对留存行为的限定 | 不设置过滤，只要用户完成购买商品的行为就算作留存，不对购买商品行为做其他限定 |
| 目标用户 | 要观测的目标人群 | 可以选择默认的四种用户类型，或特定的用户分群 |
| 维度对比 | 对起始行为进行维度细分 | 例：用 "城市"维度对比，会给出不同城市下完成起始行为的用户数量 |
| 用户对比 | 对比不同的目标用户群体的留存表现 | 例：可以对比新用户和全部用户在特定行为上的留存，辅助判断新用户的留存情况 |
| 行为对比 | 提供了3种模式对比，下面详细说明存 | 例：可以对比不同的产品功能覆盖人群和黏度 |

**行为对比说明**

行为对比中提供了3种不同对比类型：

| 对比类型 | 含义 | 适用场景举例 |
| --- | --- | --- | --- |
| 对比不同行为的回访 | 起始和留存行为相同，对比用户重复不同行为的情况 | 常用来对比不同的产品功能的用户黏度；理想的功能表现是用户覆盖量较大且留存率高 |
| 对比起始行为 | 不同起始行为对应同一个留存行为的留存情况对比 | 常用来对比不同运营策略或产品方案对特定业务目标的贡献 |
| 对比留存行为 | 同一个起始行为对应不同留存行为的留存情况对比 | 常用来分析产品激活手段有效性，是否可以有效提升某些功能的活跃度 |

#### 留存视图 {#留存视图}

留存图给出了2种视图类型：用户留存视图和留存率变化视图。下面，我们分别说明一下。

**用户留存视图**

用户留存视图给出的是一段时间内获取的用户后续留存情况；

![&#x56FE;5&#xFF1A;&#x7528;&#x6237;&#x7559;&#x5B58;&#x89C6;&#x56FE;\\_&#x6309;&#x65E5;&#x7559;&#x5B58;](https://assets.growingio.com/docs/retention/%E5%9B%BE5%EF%BC%9A%E7%94%A8%E6%88%B7%E7%95%99%E5%AD%98%E8%A7%86%E5%9B%BE_%E6%8C%89%E6%97%A5%E7%95%99%E5%AD%98.png)

* 横坐标：相对日期；日留存颗粒度下，给出的是当日、次日、2日后...n 日后；留存率曲线会随着相对日期的推移而衰减，理想情况下会稳定在一定的留存率不再衰减。如果留存率一直衰减下去接近0，说明这个产品/功能本身没有被用户认可，没有给用户带来价值。
* 次日/周/月留存：是指一段时间内获取的用户，在接下来的一个周期的留存情况；留存率越高，说明留下来的用户越多；留存率越低，说明留下来的用户越少。
* 留存曲线长期趋势：
  * **曲线稳定**：推着时间的推移，我们期望留存率会稳定在某个值。留存率曲线平滑稳定下来，说明有一部分用户稳定地留下来使用对应的产品/功能，对应地反映了产品/功能的价值；
  * **曲线一直衰减**：如果留存曲线随着时间的推移一直衰减而不能平滑稳定下来，说明我们度量的这个产品/功能没有得到用户的认可，基本上没有人在使用这个产品。

**留存率趋势视图**

用户留存率趋势给出特定留存率（比如：次周留存率）随时间（绝对日期坐标）的变化；比如，新用户次周留存率趋势可以辅助判断获客策略，好的获客策略会带来新用户次周留存率的稳定或提升。

![](https://docs.growingio.com/.gitbook/assets/tu-6-liu-cun-shuai-bian-hua-shi-tu-new.png)

另外我们在留存趋势视线图下，提供转置table的形式展示留存率。根据您选择的时间周期和显示留存率的时间粒度，显示留存率。表格的每列为具体每天或者某个时间区间下的留存率，每行为具体周期内的留存率。  
**例:**下图为在选择了周期为过去14天，显示粒度为日留存下的留存率具形式展现。

![](https://docs.growingio.com/.gitbook/assets/liu-cun-qu-shi-table-zhuan-zhi.jpg)

日/周/月颗粒度下，我们提供如下的留存率趋势：

| 颗粒度 | 留存率 |
| --- | --- | --- | --- |
| 日 | 次日留存率、7日留存率、14日留存率、30日留存率 |
| 周 | 次周留存率、2周留存率、3周留存率、4周留存率 |
| 月 | 次月留存率、2月留存率、3月留存率 |

以 "日留存"颗粒度为例，留存图中的横坐标和留存率趋势曲线和留存表的对应关系如下：

![&#x56FE;7&#xFF1A;&#x7559;&#x5B58;&#x7387;&#x8D8B;&#x52BF;&#x89E3;&#x6790;](https://assets.growingio.com/docs/retention/%E5%9B%BE7%EF%BC%9A%E7%95%99%E5%AD%98%E7%8E%87%E8%B6%8B%E5%8A%BF%E8%A7%A3%E6%9E%90.png)

为了让您更直观的在”留存率变化”趋势图下看见您选择时间粒度下的具体留存率，我们新增了”留存率变化”趋势下的留存表,下图以”过去90天的周留存”为例，在”留存率变化”趋势图中，”次周留存率”，”两周后留存率”，”三周后留存率”，”四周后留存率”，分别用四条不同颜色的折线代表。

![](https://docs.growingio.com/.gitbook/assets/zhe-xian.png)

新增的”留存率视图下留存表”与在“用户留存”下的留存表\(除去表中的第一行“全部访问用户”的数据\)对应关系如下:

![](https://docs.growingio.com/.gitbook/assets/liu-cun-biao-yu-zhuan-zhi-hou-de-dui-ying-guan-xi.png)

同样地，您可以根据具体业务需求灵活的切换时间与显示粒度。

### 2.2留存下钻到分群 {#留存下钻到分群}

留存分析中提供了一键创建分群的功能，可以快速定位留存和未留存用户，打通分析到运营环节。鼠标点击留存表的日期行单元格即可出现以下效果。当前钻取有3个限制条件需要注意：

1. 只支持在留存表的「日期行」点击下钻创建分群；
2. 当前仅支持您保存之后进行钻取，新建页和详情页编辑未保存时无法钻取；
3. 钻取创建分群受到用户分群模块权限限制，如果您没有用户分群权限，将无法钻取创建分群 。

   ![](https://docs.growingio.com/.gitbook/assets/liu-cun-xia-zuan.png)

### 2.3统计口径 {#统计口径}

留存图中的数据是根据留存表来绘制的，我们针对留存表来说明一下数据统计口径。首先，需要明确的是，留存表中的每个绝对值，指的都是人数。

下面，我们把留存表分成 "汇总行"和"日期行"：

![&#x56FE;8&#xFF1A;table&#x533A;&#x5206;&#x6C47;&#x603B;&#x884C;&#x4E0E;&#x65E5;&#x671F;&#x884C;](https://assets.growingio.com/docs/retention/%E5%9B%BE8%EF%BC%9Atable%E5%8C%BA%E5%88%86%E6%B1%87%E6%80%BB%E8%A1%8C%E4%B8%8E%E6%97%A5%E6%9C%9F%E8%A1%8C.png)

"汇总行"的数据是依据 "日期行"的数据来计算的。下面具体解读一下：

![&#x56FE;9&#xFF1A;&#x65E5;&#x671F;&#x884C;](https://assets.growingio.com/docs/retention/%E5%9B%BE9%EF%BC%9A%E6%97%A5%E6%9C%9F%E8%A1%8C.png)

* **5722**: 这个是日期行的 "用户量"一列，代表的是9月18日，"目标用户"中完成"起始行为"的用户量，这是后续用户留存的基数。图中给出的 "日颗粒度"，如果是周颗粒度，那么这个单元格中的用户量是当前自然周的获取的用户去重得到的独立用户量。
* **26.9%**：这个是日期行的留存率图中的留存率数据。 Tips给出了统计口径；5722个满足起始行为的用户，有 1537个用户在第二天\(09月/19日\)完成了留存行为。次日留存率的计算：

  ```text
        26.9% = 1537（人）/5722（人）
  ```

  ![&#x56FE;10&#xFF1A;&#x6C47;&#x603B;&#x884C;&#x6570;&#x636E;](https://assets.growingio.com/docs/retention/%E5%9B%BE10%EF%BC%9A%E6%B1%87%E6%80%BB%E8%A1%8C%E6%95%B0%E6%8D%AE.png)

* **117012**: 这个是汇总行 "用户量"列。是日期行每一行的 "用户量"数据直接算数相加得到的，没有做去重。**需要特别注意，这个数据不是在选定的时间范围内的实际用户量，因为这个数据没有去重。**
* **12.2%**：这个是汇总行的留存率数据。这个留存率数据是日期行每一行数据加权平均得到的。具体算法是：

  ```text
    12.2% = 每个日期行 "3日后" 列的用户量算数相加/ 对应每个日期行 "用户量" 列的用户量算数相加
  ```

  为了更好地理解计算口径，下面是一个示例：

  ![](https://docs.growingio.com/.gitbook/assets/liu-cun-shuai-ju-li-new.png)

## 3.应用场景

### 3.1场景1

#### 以提升新用户次周留存为目标的产品改版效果评估

某社交 APP想要提升新用户的次周留存率，并以此为业务目标进行了新版本产品迭代，想要评估改版的有效性。  
在GrowingIO留存功能中，可以通过 **"维度对比"** 快速实现评估。

设置方案：选择了特定的 "起始行为"和 "留存行为"，目标用户设定为 "新访问用户"，维度对比设置如下：

```text
维度对比 > App 版本：
 1 全部
 2 2.1
 3 2.2
 4 2.3
```

![](https://assets.growingio.com/docs/retention/%E5%9B%BE15%EF%BC%9A%E7%BB%B4%E5%BA%A6%E5%AF%B9%E6%AF%94.png)

可以看出，2.3 版本的新用户次周留存率有明显提升。

### 3.2场景2

#### 评估产品内不同功能的表现

成功的产品功能应该具备2个特点：被更多的用户使用，该功能的用户黏度高。

| 特点 | 指标 |
| --- | --- | --- |
| 更多用户使用 | 覆盖用户数量，覆盖用户占比 |
| 用户黏度高 | 该功能留存率 |

在GrowingIO留存功能中， 可以通过 **"行为对比 &gt; 对比不同行为的回访"** 来分析不同功能的这两个指标。  
设置方法：

```text
对比不同行为的回访：
 1 功能A
 2 功能B
 3 功能C
 4 功能D
```

![](https://assets.growingio.com/docs/retention/%E5%9B%BE12%EF%BC%9A%E5%8A%9F%E8%83%BD%E5%AF%B9%E6%AF%94%E6%A1%88%E4%BE%8B%E5%9B%BE.png)

可以看出：功能A的表现是最好的：覆盖用户量和用户留存率都更高。

### 3.3场景3

#### 度量某个产品激活手段是否有效

某社区电商产品为了推广电商模块，采用了 "签到奖励"的激活手段，用户签到之后可以获得积分，可以用来抵扣电商购物时的部分金额，期望可以用这种激活手段来拉动电商模块的活跃度和购买转化。

由于用户签到奖励的积分长期有效，并未设置严格的有效期，因为用户可能在后续的任意时段使用。因此推荐使用留存功能来观测，用户签到领取积分之后的转化情况。同时，由于签到积分存在较低的 "薅羊毛"门槛，部分投机用户可能会坚持签到以获取积分，然后通过积分直接兑换商品。可以使用 GrowingIO **"行为对比 &gt; 对比留存行为"** 来分析。

设置方法：

```text
起始行为：签到奖励

对比留存行为：
 1 签到奖励
 2 购买商品
```

![](https://assets.growingio.com/docs/retention/%E5%9B%BE13%EF%BC%9A%E5%AF%B9%E6%AF%94%E7%95%99%E5%AD%98%E8%A1%8C%E4%B8%BA.png)

上线之后，使用 "签到奖励"功能的用户回来使用"签到奖励"的留存率很高，但到电商模块交易的比较少，说明签到奖励对于激活电商模块的效果不够好，需要进一步调整签到奖励策略或结合其他激活手段。

### 3.4场景4

#### 不同运营活动的效果衡量 {#场景4：不同运营活动的效果衡量}

电商、互联网金融理财、OTA 等等很多业务，发放优惠券刺激老用户服务复购是非常常见的场景。常见的优惠券有满减券、返现券、组合券等等。那么，哪种优惠券更加有效呢？对于选定的目标用户，同时对不同的用户发放不同优惠券做优惠券有效性测试。

推荐使用 GrowingIO留存分析的 **"行为对比 &gt; 对比起始行为"**来分析。  
设置方法：

```text
留存行为：投资/购买

对比起始行为：
 1 A 类优惠券 
 2 B 类优惠券
 3 C 类优惠券
```

![](https://assets.growingio.com/docs/retention/%E5%9B%BE14%EF%BC%9A%E5%AF%B9%E6%AF%94%E8%B5%B7%E5%A7%8B%E8%A1%8C%E4%B8%BA.png)

通过留存曲线可以看到，不同优惠券领取的用户量和后后续对刺激用户后续投资/购买的差异。

## 4.常见问题

#### 4.1. 行为对比&gt;对比起始行为对比，出现的 "未做过" 是什么意思？ {#1-行为对比对比起始行为对比，出现的-未做过-是什么意思？}

为了帮助您更好的判断 "做过某个行为 A"和留存行为之间的相关性，我们提供了 "未做过行为 A" 和留存行为之间的相关性。如果未做过行为A的用户留存率比做过行为A的用户留存率更高，说明行为 A 不是1个对用户留存有帮助的行为。

#### 4.2留存分析中在留存趋势细节表中切换天、周留存，为什么显示用户数不同？ {#2留存分析中在留存趋势细节表中切换天、周留存，为什么显示用户数不同？}

造成用户数差异的原因有：

1. 周留存分析时会根据设置的时间范围调整到自然周，比如设置的时间为周三，在分析周留存的时候会自动从当周的周一开始分析。所以周留存和天留存的统计时间范围可能是不同的。
2. 周留存中的用户数表示当周做过起始行为的用户，如果用户在当周的三天做过起始行为，在天留存表中会表示为三个用户，而在周留存表中会表示为一个。

#### 4.3查看留存的时候，如何区分IOS和安卓呢？ {#3查看留存的时候，如何区分ios和安卓呢？}

可以在「细分对比」里，选择不同的平台。

